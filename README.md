# NewsSkins - ニュースをスキンで読む

記事を様々な文体（スキン）で楽しむPWAアプリケーション

## 概要

NewsSkins は、任意のニュース記事URLを入力すると、Google Gemini 1.5 Flash APIを使用して様々な文体（スキン）に変換するWebアプリケーションです。関西弁風、文学風、哲学講義風など、10種類のユニークなスキンで記事を読み直すことができます。

## 主な機能

### コア機能
- **記事抽出**: 任意のURLから記事本文を自動抽出（Readability使用）
- **AI変換**: Google Gemini 1.5 Flash APIで10種類のスキンに変換
- **10種のスキン**:
  - 関西ノリ風
  - デタッチ文学風
  - 意味深セーフ大人風
  - おじさん構文風
  - 詩的エモ風
  - 名言ボット風
  - 謎の暗号風
  - 哲学講義風
  - 論戦系政治家風
  - 演説ポエム風

### パラメータ調整
- 温度（Temperature）: 0.1 - 1.6
- Top-P: 0.1 - 1.0
- 出力長倍率: 0.6x - 1.6x
- 最大トークン数: 100 - 2000

### 追加機能
- 本質3点の抽出
- 用語ミニ辞典
- 素朴な疑問の生成

### PWA対応
- オフライン対応
- ホーム画面への追加
- Service Worker によるキャッシング

### その他
- 変換履歴の保存（認証ユーザー）
- 設定の保存
- テキストコピー機能
- 原文との比較表示

## 技術スタック

- **フロントエンド**: React 19, TypeScript, Tailwind CSS 4, shadcn/ui
- **バックエンド**: Express 4, tRPC 11
- **データベース**: MySQL (Drizzle ORM)
- **認証**: Manus OAuth
- **AI**: Google Gemini 1.5 Flash API
- **PWA**: vite-plugin-pwa, Workbox

## セットアップ

### 前提条件
- Node.js 22+
- pnpm
- MySQL データベース

### インストール

```bash
# 依存関係のインストール
pnpm install

# データベースマイグレーション
pnpm db:push

# 開発サーバー起動
pnpm dev
```

### 環境変数

必要な環境変数は自動的に設定されます（Manus プラットフォーム上）。

## 使い方

1. **記事URLを入力**: 変換したい記事のURLを入力
2. **Gemini APIキーを入力**: 自分のGoogle Gemini APIキーを入力
3. **スキンを選択**: 10種類のスキンから好きなものを選択
4. **パラメータ調整**（オプション）: 詳細設定で温度やトークン数を調整
5. **変換**: 「変換する」ボタンをクリック
6. **結果を確認**: 変換された記事を読む

## APIキーについて

このアプリは**ユーザー自身のGemini APIキー**を使用します。APIキーは：
- クライアント側でのみ使用
- サーバーには送信されません
- ローカルストレージに保存可能（設定ページ）

Gemini APIキーの取得方法：
1. [Google AI Studio](https://makersuite.google.com/app/apikey) にアクセス
2. 「Create API Key」をクリック
3. 生成されたAPIキーをコピー

## セキュリティ

- APIキーはサーバーに保存されません
- 変換された記事本文もサーバーには保存されません（メタデータのみ）
- Source URLは必ず出力に含まれます
- R-15相当の安全フィルタ

## ライセンス

MIT License

## 開発者向け

### テスト実行

```bash
pnpm test
```

### ビルド

```bash
pnpm build
```

### デプロイ

Manus プラットフォーム上で自動デプロイされます。

## 今後の拡張予定

- 複数スキン比較UI
- カスタムスキンの作成
- 画像化機能の強化
- より高度な履歴検索
